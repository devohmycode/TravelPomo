<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session ae49cfc7-2b5d-4bc2-a944-652c9dbaf62e (2026-02-20 09:55Z) -->

# Plugin creation with MCP Perplexity server (2026-02-20 09:55Z)

_**User**_

Créer un plugin avec le serveur mcp perplexity

---

_**Agent (model default, mode Agent)**_

<think><details><summary>Thought Process</summary>

The user is asking to create a plugin with the MCP Perplexity server. Let me understand what they need:

1. They want to create a plugin that uses the MCP (Model Context Protocol) Perplexity server
2. I should look at how other MCP servers are configured in this project to understand the pattern
3. I need to find or create configuration for a Perplexity MCP server

Let me first explore the project structure to see how MCP is set up, and search for any existing Perplexity-related configuration or documentation on how to add MCP servers/plugins.
</details></think>

---


Explorant la configuration MCP du projet et recherchant comment intégrer le serveur Perplexity.


---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **0** result in **1** directory</summary>

Directory: **c:\dev\Pomo** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "perplexity|Perplexity",
  "path": "c:\\dev\\Pomo",
  "caseInsensitive": false
}
```
Additional data:

```json
{
  "isPruned": true,
  "pattern": "perplexity|Perplexity",
  "path": "c:\\dev\\Pomo",
  "outputMode": "content",
  "totalFiles": 0,
  "totalMatches": 0,
  "topFiles": []
}
```
Status: **completed**


</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>

Let me try list_dir or read the workspace to understand the structure. The MCP folder was mentioned in the system prompt as C:\Users\Dev\.cursor\projects\c-dev-Pomo\mcps - so MCP config might be in .cursor or in the project. Let me search for cursor config and mcps folder.
</details></think>

---





---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **0** result in **1** directory</summary>

Directory: **c:\dev\Pomo** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\dev\Pomo\package.json</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="web_search">
<details>
            <summary>Tool use: **web_search** • Searched web `undefined` • **1** results</summary>
        
| Title | URL | Chunk |
|-------|-----|-------|
| Web search results for query: MCP Model Context Protocol Perplexity server plugin setup |  | Links:<br/>1. [Overview - Perplexity](https://docs.perplexity.ai/guides/mcp-server)<br/>2. [How to Set Up Model Context Protocol (MCP) in Continue \| Continue Docs](https://docs.continue.dev/customize/deep-dives/mcp)<br/>3. [perplexityai/modelcontextprotocol](https://github.com/perplexityai/modelcontextprotocol)<br/>4. [Perplexity MCP Server - perplexityai/modelcontextprotocol](https://playbooks.com/mcp/perplexity)<br/>5. [perplexityai/modelcontextprotocol](https://github.com/ppl-ai/modelcontextprotocol)<br/><br/># MCP Model Context Protocol Perplexity Server Plugin Setup<br/><br/>## Overview<br/>Perplexity offers an official MCP server implementation that provides AI assistants with real-time web search, reasoning, and research capabilities.[3]<br/><br/>## Available Tools<br/>The Perplexity MCP server includes four main tools:[3]<br/><br/>- **perplexity_search**: Direct web search via Perplexity Search API returning ranked results with metadata<br/>- **perplexity_ask**: General conversational AI with real-time web search using the sonar-pro model<br/>- **perplexity_research**: Deep comprehensive research using sonar-deep-research model<br/>- **perplexity_reason**: Advanced reasoning using sonar-reasoning-pro model<br/><br/>## Installation Steps<br/><br/>### Get Your API Key<br/>Obtain your Perplexity API Key from the [API Portal](https://www.perplexity.ai/account/api/group).[3]<br/><br/>### Setup by Client<br/>Configuration varies by client:[3]<br/><br/>**Cursor** (`~/.cursor/mcp.json`), **Claude Desktop** (`claude_desktop_config.json`), or **Windsurf** (`~/.codeium/windsurf/mcp_config.json`):<br/>```json<br/>\{<br/>  "mcpServers": \{<br/>    "perplexity": \{<br/>      "command": "npx",<br/>      "args": ["-y", "@perplexity-ai/mcp-server"],<br/>      "env": \{<br/>        "PERPLEXITY_API_KEY": "your_key_here"<br/>      \}<br/>    \}<br/>  \}<br/>\}<br/>```<br/><br/>**Claude Code CLI**:<br/>```bash<br/>claude mcp add perplexity --env PERPLEXITY_API_KEY="your_key_here" -- npx -y @perplexity-ai/mcp-server<br/>```<br/><br/>## Optional Configuration<br/>- `PERPLEXITY_TIMEOUT_MS`: Set timeout (default: 5 minutes)<br/>- `PERPLEXITY_BASE_URL`: Custom base URL<br/>- `PERPLEXITY_LOG_LEVEL`: DEBUG\|INFO\|WARN\|ERROR (default: ERROR)<br/>- `strip_thinking`: For research/reasoning tools, set to `true` to remove thinking tags and save tokens[3] |

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>

I found that:
1. Cursor uses `~/.cursor/mcp.json` for MCP server config
2. The Perplexity MCP server is `@perplexity-ai/mcp-server` via npx
3. It needs PERPLEXITY_API_KEY in env

The user asked to "create a plugin with the MCP Perplexity server". This could mean:
A) Add the Perplexity MCP server to Cursor's config (mcp.json)
B) Create a "plugin" in the project that documents or wraps the use of Perplexity MCP

Since they said "créer un plugin", I'll assume they want to add/enable the Perplexity MCP server in the project. In Cursor, MCP servers can be configured at user level (~/.cursor/mcp.json) or possibly at project level. Let me check if there's a project-level MCP config in Pomo.

The system message said: "The MCP tool descriptors live in the C:\Users\Dev\.cursor\projects\c-dev-Pomo/mcps folder" - so there's a project-specific mcps folder that contains server configs. So the "plugin" might mean adding the Perplexity server to this project's MCP setup. Let me look at the mcps folder structure to see how other servers are defined.
</details></think>

---

